<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      html, body {
        margin: 0;
        width: 100%;
        height: 100%;
        background: transparent;
        overflow: hidden;
      }

      /* Centraliza o card */
      .wrapper {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        background: transparent;
      }

      /* O CARD (é aqui que o arredondado existe) */
      .card {
        width: 100%;
        max-width: 420px;
        aspect-ratio: 1 / 1;

        border-radius: 28px;
        overflow: hidden; /* ESSENCIAL */

        background: transparent;
      }

      video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        background: transparent;
      }
    </style>
  </head>

  <body>
    <div class="wrapper">
      <div class="card">
        <video
          id="vid"
          muted
          loop
          playsinline
          webkit-playsinline
          preload="auto"
        >
          <source src="gif2.mp4" type="video/mp4" />
        </video>
      </div>
    </div>

    <script>
      const v = document.getElementById("vid");

      async function playVideo() {
        try {
          v.muted = true;
          v.autoplay = true;
          await v.play();
        } catch (e) {
          // retry — importante em iframe
          setTimeout(() => {
            v.play().catch(() => {});
          }, 1000);
        }
      }

      v.addEventListener("canplay", playVideo);
      document.addEventListener("visibilitychange", () => {
        if (!document.hidden) playVideo();
      });

      playVideo();
    </script>
  </body>
</html>
